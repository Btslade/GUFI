EPATH=..


# Usage: ./bfmi [options] input_dir
# options:
#   -h              help
#   -H              show assigned input values? (debugging)
#   -p              print file diagnostics?
#   -n <threads>    number of threads
#   -d <delim>      delimiter (one char)
#   -x              handle xattrs?
#   -P              print directories?
#   -b              build index?
#   -o <out_fname>  output file
#   -r <robin_in>   ? (see bfmi.c)



echo
echo "bfmi to screen"
rm -rf testdirrh

$EPATH/bfmi \
    -p -n 2 -xP -r robinhoodin \
    testdir


echo
echo "bfmi to gufi"
rm -rf testdirrh

$EPATH/bfmi \
    -n 2 -xb -t testdirrh -r robinhoodin \
    testdir


echo
echo "bfq on resulting gufi"
$EPATH/bfq \
    -Pp -n 2 \
    -S "select * from summary;" \
    -E "select * from entries;" \
    testdirrh
